<template>
    <div class="spinner" if.bind="!graphData && !errorMessage"></div>

    <div class="connections-context">
        <h4 innerhtml.bind="connectionsContext"></h4>
    </div>

    <div id="graph" style="width: 100%; height: 100%;" class.bind="!graphData || errorMessage ? 'hidden' : ''"></div>

    <div class="connections-request-error" if.bind="errorMessage">
        <div class="error-inner">
            <i class="material-icons">&#xE000;</i>
            <span>${errorMessage}</span>
            <em if.bind="errorDetails">${errorDetails}</em>
        </div>
        <button class="o-buttons o-buttons--standout button-try-again" click.delegate="getGraphData()">try again</button>
    </div>
    <button class="o-buttons button-go-back" click.delegate="goBack()">go back</button>

    <div class="connections-zoom-controls">
        <a href="/#/connections" class="o-buttons zoom" id="zoom_in">+</a>
        <a href="/#/connections" class="o-buttons zoom" id="zoom_out" >-</a>
    </div>

    <div class="connections-mode-selector">
        <a href="/#/connections" click.delegate="toggleMode()" id="toggleModeBtn">
            <span class="o-buttons o-buttons--small ${graphMode === true ? 'o-buttons--standout' : ''}">details</span><span class="o-buttons o-buttons--small ${graphMode === true ? '' : 'o-buttons--standout'}">no details</span>
        </a>
    </div>

    <div class="connections-source-target" if.bind="sourcePerson && targetPerson && graphMode === true">
        <h2>${sourcePerson} <i class="material-icons">link</i> ${targetPerson}</h2>
    </div>
</template>