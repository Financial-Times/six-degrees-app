<template>
    <div class="o-grid-container">
        <div class="o-grid-row">
            <div data-o-grid-colspan="12 M8 XL8">
                <div class="connections-module">
                    <require from="../modules/business-card/business-card"></require>
                    <business-card></business-card>
                    <div class="connections-graph">
                        <div class="connections-graph-overlay" if.bind="!person.numberOfConnections"></div>
                        <require from="../modules/graph-view/graph-view"></require>
                        <graph-view></graph-view>
                    </div>
                </div>
            </div>
            <div data-o-grid-colspan="12 M4 XL4">
                <div class="related-content">
                    <div class="related-content-header">
                        <h3>${person.name}<br />in the FT headlines</h3>
                    </div>
                    <div class="related-articles" if.bind="person.relatedContent">
                        <ul>
                            <li repeat.for="i of person.maxContentItems" if.bind="person.relatedContent[i].title">
                                <div class="article-details">
                                    <a href="${person.relatedContent[i].location.uri}" target="_blank" class="article-thumbnail" if.bind="person.relatedContent[i].imageUrl">
                                        <img src="${person.relatedContent[i].imageUrl}" alt="${person.relatedContent[i].title}" />
                                    </a>
                                    <span class="article-thumbnail default" if.bind="!person.relatedContent[i].imageUrl"></span>
                                    <a href="${person.relatedContent[i].location.uri}" target="_blank">
                                        <span class="article-title">${person.relatedContent[i].title}</span>
                                        <span class="article-byline">by ${person.relatedContent[i].byline}</span>
                                        <span class="article-published">${person.relatedContent[i].published}</span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="spinner-small" if.bind="person.relatedContentLoading"></div>
                    <div class="related-articles" if.bind="!person.relatedContent">
                        Nothing to show...
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>